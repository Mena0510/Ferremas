{% extends 'base.html' %}
{% block content %}
<div class="container mt-5">
  <div class="row">
    <div class="col-md-6">
      {% if producto.imagen %}
      <img src="{{ producto.imagen.url }}" class="img-fluid rounded shadow" alt="{{ producto.nombre }}">
      {% else %}
      <img src="https://via.placeholder.com/600x400?text=Sin+Imagen" class="img-fluid rounded shadow">
      {% endif %}
    </div>
    <div class="col-md-6">
      <h2>{{ producto.nombre }}</h2>
      <p class="text-muted">Categoría: {{ producto.categoria }}</p>
      <p>{{ producto.descripcion }}</p>
      <h4 class="mt-4 text-success">${{ producto.precio }}</h4>
      <p>Stock disponible: {{ producto.stock }}</p>

      <form method="post" action="{% url 'agregar_al_carrito' producto.id %}">
        {% csrf_token %}
        {% if producto.stock > 0 %}
        <button type="submit" class="btn btn-primary" >
          Agregar al carrito
        </button>
      {% else %}
        <button type="button" class="btn btn-secondary" disabled>
          Sin stock disponible
        </button>
      {% endif %}
      
      </form>

      <a href="{% url 'catalogo_productos' %}" class="btn btn-link mt-3">← Volver al catálogo</a>
    </div>
  </div>
</div>
{% endblock %}
